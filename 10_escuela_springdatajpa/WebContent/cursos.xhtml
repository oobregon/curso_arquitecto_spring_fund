<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head></h:head> 
<body> 
	<h:form id="formCursos">
		<p:outputLabel for="fini" value="Fecha inicial:" />
        <p:calendar id="fini" value="#{cursosBean.fechaInicio}" showOn="button" />
        <br/><br/>
        <p:commandButton value="Volver" action="inicio" />
        <p:commandButton value="Ver cursos" update="tdcursos" action="#{cursosBean.listaCursos}" />        
        <br/><br/>		        
        <h:panelGroup id="tdcursos">		        	
			<p:dataTable border="1" var="curso" value="#{cursosBean.listaCursos}" scrollable="true" scrollHeight="300">
				<p:column headerText="Denominación"><h:outputText value="#{curso}"/></p:column>
				<p:column headerText="Duración"><h:outputText value="${curso[2]}"/></p:column>				     
				<p:column headerText="Fecha"><h:outputText value="${curso[3]}"/></p:column>											
				<p:column headerText="Total alumnos"><h:outputText value="${curso[4]}"/></p:column>
				<p:column headerText="Acción"><p:commandLink value="Eliminar curso"  action="#{cursosBean.eliminarCurso(curso[0])}" update=":formCursos:tdcursos" />												
				</p:column>
		 	</p:dataTable>
		 </h:panelGroup>
		 <p:commandButton value="Nuevo curso" action="altaCurso" />		  	
	 </h:form>         
</body> 
</html>